{"id":"SOL-ISS-DSC-007-g707","description":"修正 auto-save effect 依赖与摘要字段一致性","approach":"最小变更补齐依赖，确保等级变化触发存档摘要更新","tasks":[{"id":"T1","title":"Update autosave effect dependencies","scope":"hooks/useGameLogic.ts","action":"Update","description":"在 autosave useEffect 依赖数组中加入摘要使用字段（角色.等级）。","modification_points":[{"file":"hooks/useGameLogic.ts","target":"autosave useEffect dependency array","change":"补充 gameState.角色.等级 依赖"}],"implementation":["定位 autosave effect","补齐依赖并保证 lint 通过","检查是否引入不必要重渲染"],"test":{"unit":["level change triggers autosave update"],"integration":[],"commands":["npm test -- tests/useGameLogic.legacy-save.test.tsx","npm run build"],"coverage_target":0.7},"acceptance":{"criteria":["当仅等级变化时，autosave 至少触发 1 次","当等级不变仅社交变化时，行为保持现状"],"verification":["测试断言 setItem 调用次数变化","构建通过"]},"commit":{"type":"fix","scope":"autosave","message_template":"fix(autosave): align effect deps with summary fields","breaking":false},"priority":3}],"analysis":{"risk":"low","impact":"medium","complexity":"low"},"score":0.84,"is_bound":true,"created_at":"2026-02-06T14:09:01.516Z","bound_at":"2026-02-06T14:09:02.292Z"}
