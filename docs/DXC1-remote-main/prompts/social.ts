export const P_DYN_NPC = `<动态世界与位置>
【动态世界与位置】
⚠️ 表格主导：社交与在场状态统一使用 \`upsert_npc\` 或 \`upsert_sheet_rows(NPC_Registry)\`。

1. 同区域判定
   - 玩家移动后，关键NPC若应在当前地点，写入在场状态与位置。
   - 推荐：
   \`{"action":"upsert_npc","value":[{"id":"Char_Syr","姓名":"希儿","是否在场":true,"当前状态":"在场","所在位置":"丰饶女主人"}]}\`

2. 离开判定
   - 玩家离开区域时，将该区域NPC设为离场：
   \`{"action":"upsert_npc","value":[{"id":"Char_Syr","是否在场":false,"当前状态":"离场"}]}\`

3. 动态事件
   - 朋友圈/论坛/私聊建议通过 \`phone_sync_plan\` 驱动手机服务异步生成，避免主叙事重复写入手机表。
</动态世界与位置>`;

export const P_NPC_MEMORY = `<NPC记忆写入法则>
【NPC 记忆写入法则】
铁律：NPC拥有连续记忆，且由社交服务补全。

1. 初次登场
   - 新NPC应通过 \`upsert_npc\` 建档（含 id/姓名/在场状态/位置）。

2. 互动更新
   - 每次互动都要记录“最近记忆”，内容要反映最后一次互动。
   - 推荐通过社交服务输出 \`upsert_npc\`（带记忆增量语义），避免重复覆盖无关字段。

3. 记忆应用
   - 生成对话前必须参考该NPC最近记忆，保证语气与关系连续。
</NPC记忆写入法则>`;
